schema: '2.0'
stages:
  build-models:
    cmd: docker/run-in-docker.sh ./buildmodels.py
    deps:
    - path: buildmodels.py
      hash: md5
      md5: aacc012475037bb21ca78208cc5b26a7
      size: 11070
    - path: cfg.py
      hash: md5
      md5: 6062a4030346484467a1331e06153d4c
      size: 3732
    - path: models
      hash: md5
      md5: 2290f0e4b65d9377e760972d299cd001.dir
      size: 2499013763
      nfiles: 47
    outs:
    - path: built
      hash: md5
      md5: 1a93fb3755c3b0f04d1d51397afd8556.dir
      size: 1417525304
      nfiles: 38
    - path: built-aux
      hash: md5
      md5: d25a7b9ac3c1c922b2e2a58aa826688a.dir
      size: 3161658
      nfiles: 48
  ghidra-import:
    cmd: ../docker/run-in-docker.sh ghidra/import-binaries.sh
    deps:
    - path: ../built
      hash: md5
      md5: 1a93fb3755c3b0f04d1d51397afd8556.dir
      size: 1417525304
      nfiles: 38
    - path: import-binaries.sh
      hash: md5
      md5: d5de2ba235728e45068e80be0bc324aa
      size: 223
    outs:
    - path: db
      hash: md5
      md5: 734eafabddc9a8b0374da4cd05b857b4.dir
      size: 1528224003
      nfiles: 81
  ghidra-export-analysis:
    cmd: ../docker/run-in-docker.sh ghidra/export-analysis.sh
    deps:
    - path: db
      hash: md5
      md5: 734eafabddc9a8b0374da4cd05b857b4.dir
      size: 1528224003
      nfiles: 81
    - path: export-analysis.py
      hash: md5
      md5: 031dfcceabe691d0f72ce801601b671d
      size: 2288
    - path: export-analysis.sh
      hash: md5
      md5: 5b24271e4ff04045548d0d00442b5b04
      size: 235
    outs:
    - path: analysis
      hash: md5
      md5: fd723c480b67e14818fba80413976a30.dir
      size: 302273971
      nfiles: 38
  sweep2bits:
    cmd: "mkdir -p results/bits\ndocker/run-in-docker.sh make -j $(nproc) -f tools/Makefile\
      \ results/sweep/*.pkl\n"
    deps:
    - path: results/dram
      hash: md5
      md5: 9ec494bc069c150ae3b322c9099b8b74.dir
      size: 7980032
      nfiles: 1
    - path: results/sweep
      hash: md5
      md5: d751713988987e9331980363e24189ce.dir
      size: 0
      nfiles: 0
    - path: tools/sweep2bits.py
      hash: md5
      md5: e4f68c9fa29a57d1cac21ec7574efc8d
      size: 3411
    outs:
    - path: results/bits
      hash: md5
      md5: d751713988987e9331980363e24189ce.dir
      size: 0
      nfiles: 0
  find-superbits:
    cmd: "mkdir -p results/superbits; docker/run-in-docker.sh make -j $(nproc) -f\
      \ tools/Makefile $(tools/gen_bits2superbits_out_fnames.py results/bits/*+fake*_11-*bits.json)\n"
    deps:
    - path: results/bits
      hash: md5
      md5: d751713988987e9331980363e24189ce.dir
      size: 0
      nfiles: 0
    - path: results/dram
      hash: md5
      md5: 9ec494bc069c150ae3b322c9099b8b74.dir
      size: 7980032
      nfiles: 1
    - path: tools/bits2superbits.py
      hash: md5
      md5: b4512171f74ec8e2b848d4787316ebc9
      size: 2187
    outs:
    - path: results/superbits
      hash: md5
      md5: d751713988987e9331980363e24189ce.dir
      size: 0
      nfiles: 0
  rowhammer:
    cmd: "mkdir -p results/rowhammer; docker/run-in-docker.sh make -j $(nproc) -f\
      \ tools/rowhammer.Makefile results/superbits/*+fake*_9-*superbits.csv\n"
    deps:
    - path: results/superbits
      hash: md5
      md5: d751713988987e9331980363e24189ce.dir
      size: 0
      nfiles: 0
    - path: tools/rh_attack.py
      hash: md5
      md5: 9bf8d2d897246bc35182c0ee21848901
      size: 5095
    outs:
    - path: results/rowhammer
      hash: md5
      md5: d751713988987e9331980363e24189ce.dir
      size: 0
      nfiles: 0
  compile-unmasker:
    cmd: ./compile.sh
    deps:
    - path: .
      hash: md5
      md5: 1bd2299a53ef2a528680836649761283.dir
      size: 37157
      nfiles: 8
    outs:
    - path: getkey.o
      hash: md5
      md5: 4f358d2b77c38eefa628ef292b28d400
      size: 1416
    - path: unmasker.o
      hash: md5
      md5: b0dcd1077492893d1188597e1fa9ef22
      size: 3272
